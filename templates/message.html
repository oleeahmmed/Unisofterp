<!-- Django messages -->
{% if messages %}
    {% for message in messages %}
        <div id="notificationToast_{{ forloop.counter }}" 
            class="fixed top-6 right-6 max-w-md w-full sm:w-auto transform transition-transform duration-300 ease-in-out translate-x-full opacity-0" 
            role="alert" 
            aria-live="polite">

            <div class="flex items-center p-4 rounded-lg shadow-lg border
                {% if message.tags == 'success' %} bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800 {% elif message.tags == 'error' %} bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800 {% elif message.tags == 'warning' %} bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800 {% elif message.tags == 'info' %} bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800 {% endif %}">

                <!-- Icon -->
                <div class="flex-shrink-0 w-6 h-6 mr-3">
                    {% if message.tags == 'success' %}
                        <svg class="w-6 h-6 text-green-500" fill="currentColor" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m5 4a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    {% elif message.tags == 'error' %}
                        <svg class="w-6 h-6 text-red-500" fill="currentColor" viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12"/></svg>
                    {% elif message.tags == 'warning' %}
                        <svg class="w-6 h-6 text-yellow-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L1 21h22L12 2zM12 16v2m0-4h0"/></svg>
                    {% elif message.tags == 'info' %}
                        <svg class="w-6 h-6 text-blue-500" fill="currentColor" viewBox="0 0 24 24"><path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    {% endif %}
                </div>

                <!-- Message -->
                <div class="text-sm font-medium flex-1 
                    {% if message.tags == 'success' %} text-green-800 dark:text-green-300 {% elif message.tags == 'error' %} text-red-800 dark:text-red-300 {% elif message.tags == 'warning' %} text-yellow-800 dark:text-yellow-300 {% elif message.tags == 'info' %} text-blue-800 dark:text-blue-300 {% endif %}">
                    {{ message|safe }}
                </div>

                <!-- Close Button -->
                <button onclick="hideToast('{{ forloop.counter }}')" class="ml-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full p-1" aria-label="Close notification">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>
        </div>
    {% endfor %}
{% endif %}